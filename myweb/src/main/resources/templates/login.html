<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <!-- Meta, title, CSS, favicons, etc. -->
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="icon" href="images/favicon.ico" type="image/ico"/>

  <title>娃娃机管理系统</title>

  <!-- Bootstrap -->
  <link href="../../static/vendors/bootstrap/dist/css/bootstrap.min.css"
        th:href="@{/vendors/bootstrap/dist/css/bootstrap.min.css}" rel="stylesheet"/>

  <!-- Font Awesome -->
  <link href="../../static/vendors/font-awesome/css/font-awesome.min.css"
        th:href="@{/vendors/font-awesome/css/font-awesome.min.css}" rel="stylesheet"/>

  <!-- NProgress -->
  <link href="../../static/vendors/nprogress/nprogress.css"
        th:href="@{/vendors/nprogress/nprogress.css}" rel="stylesheet"/>

  <!-- iCheck -->
  <link href="../../static/vendors/iCheck/skins/flat/green.css"
        th:href="@{/vendors/iCheck/skins/flat/green.css}" rel="stylesheet"/>

  <!-- bootstrap-progressbar -->
  <link href="../../static/vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css"
        th:href="@{/vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css}" rel="stylesheet"/>

  <link href="../../static/vendors/bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css"
        th:href="@{/vendors/bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css}" rel="stylesheet"/>

  <!-- JQVMap -->
  <link href="../../static/vendors/jqvmap/dist/jqvmap.min.css"
        th:href="@{/vendors/jqvmap/dist/jqvmap.min.css}" rel="stylesheet"/>

  <!-- bootstrap-daterangepicker -->
  <link href="../../static/vendors/bootstrap-daterangepicker/daterangepicker.css"
        th:href="@{/vendors/bootstrap-daterangepicker/daterangepicker.css}" rel="stylesheet"/>

  <!-- Custom Theme Style -->
  <link href="../../static/build/css/custom.min.css"
        th:href="@{/build/css/custom.min.css}" rel="stylesheet"/>

</head>

<body class="login">
<div>

  <div class="login_wrapper">
    <div class="animate form login_form">
      <section class="login_content">
        <form>
          <h1>娃娃机管理系统</h1>
          <div>
            <input id="account" type="text" class="form-control" placeholder="Username" required=""/>
          </div>
          <div>
            <input id="password" type="password" class="form-control" placeholder="Password" required=""/>
            <label id="msgid" style="color:red;font-size:12pt;"></label>
          </div>
          <div>
            <a class="btn btn-default submit" style="width: 80px" onclick="onLogin();">登录</a>
            <!--<a class="reset_pass" href="#">忘记密码?</a>-->
          </div>

          <div class="clearfix"></div>

          <div class="separator">
            <!--<p class="change_link">
              <a href="#signup" class="to_register"> 注册账号 </a>
            </p>-->

          </div>
        </form>
      </section>
    </div>
  </div>

</div>

<!-- jQuery -->
<script src="../../static/vendors/jquery/dist/jquery.min.js" th:src="@{/vendors/jquery/dist/jquery.min.js}"></script>
<!-- Bootstrap -->
<script src="../../static/vendors/bootstrap/dist/js/bootstrap.min.js"
        th:src="@{/vendors/bootstrap/dist/js/bootstrap.min.js}"></script>
<!-- FastClick -->
<script src="../../static/vendors/fastclick/lib/fastclick.js" th:src="@{/vendors/fastclick/lib/fastclick.js}"></script>
<!-- NProgress -->
<script src="../../static/vendors/nprogress/nprogress.js" th:src="@{/vendors/nprogress/nprogress.js}"></script>
<!-- iCheck -->
<script src="../../static/vendors/iCheck/icheck.min.js" th:src="@{/vendors/iCheck/icheck.min.js}"></script>
<!-- Datatables -->
<script src="../../static/vendors/datatables.net/js/jquery.dataTables.min.js"
        th:src="@{/vendors/datatables.net/js/jquery.dataTables.min.js}"></script>
<script src="../../static/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"
        th:src="@{/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js}"></script>
<script src="../../static/vendors/datatables.net-buttons/js/dataTables.buttons.min.js"
        th:src="@{/vendors/datatables.net-buttons/js/dataTables.buttons.min.js}"></script>
<script src="../../static/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"
        th:src="@{/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js}"></script>
<script src="../../static/vendors/datatables.net-buttons/js/buttons.flash.min.js"
        th:src="@{/vendors/datatables.net-buttons/js/buttons.flash.min.js}"></script>
<script src="../../static/vendors/datatables.net-buttons/js/buttons.html5.min.js"
        th:src="@{/vendors/datatables.net-buttons/js/buttons.html5.min.js}"></script>
<script src="../../static/vendors/datatables.net-buttons/js/buttons.print.min.js"
        th:src="@{/vendors/datatables.net-buttons/js/buttons.print.min.js}"></script>
<script src="../../static/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"
        th:src="@{/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js}"></script>
<script src="../../static/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js"
        th:src="@{/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js}"></script>
<script src="../../static/vendors/datatables.net-responsive/js/dataTables.responsive.min.js"
        th:src="@{/vendors/datatables.net-responsive/js/dataTables.responsive.min.js}"></script>
<script src="../../static/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"
        th:src="@{/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js}"></script>
<script src="../../static/vendors/datatables.net-scroller/js/dataTables.scroller.min.js"
        th:src="@{/vendors/datatables.net-scroller/js/dataTables.scroller.min.js}"></script>
<script src="../../static/vendors/jszip/dist/jszip.min.js" th:src="@{/vendors/jszip/dist/jszip.min.js}"></script>
<script src="../../static/vendors/pdfmake/build/pdfmake.min.js"
        th:src="@{/vendors/pdfmake/build/pdfmake.min.js}"></script>
<script src="../../static/vendors/pdfmake/build/vfs_fonts.js" th:src="@{/vendors/pdfmake/build/vfs_fonts.js}"></script>

<!-- Custom Theme Scripts-->
<script src="../../static/build/js/custom.min.js" th:src="@{/build/js/custom.min.js}"></script>

<script type="text/javascript">
    /*<![CDATA[*/

    document.onkeydown=keyListener;
    function keyListener(e){
        // 当按下回车键，执行我们的代码
        if(e.keyCode == 13){
            onLogin();
        }
    }

    function onLogin() {
        var account =  $("#account").val();
        var password = $("#password").val();

        $.ajax({
            type:"POST",
            url:"/login/sigh_in",
            data:{
                account: account,
                password:password
            },
            success: function (json) {
                if (json.code != 0) {
                    document.getElementById("msgid").innerHTML = json.msg;
                    return;
                }
                sessionStorage.setItem("user",account);
                console.log("success:",json);
                console.log("success:",json.data.url);
                window.location.href = json.data.url;
            },
            error: function (json) {
                console.log("error:",json);
                alert("error");
            }
        });
    }

    $(document).ready(function () {
        console.log("loading");
    });

    /*]]>*/
</script>

</body>
</html>
